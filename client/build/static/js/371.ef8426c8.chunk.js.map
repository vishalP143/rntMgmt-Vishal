{"version":3,"file":"static/js/371.ef8426c8.chunk.js","mappings":"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","sources":["components/UpdateRoomInfo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { TextField, MenuItem, Button, FormControlLabel, Checkbox, Container, Typography, Grid, Paper } from '@mui/material';\n\nconst UpdateRoomInfo = () => {\n    const navigate = useNavigate();\n    const { id } = useParams();\n    const [room, setRoom] = useState({\n        room_number: '',\n        floor_number: '',\n        building_name: '',\n        room_type: 'Single',\n        rent: '',\n        availability: true,\n        tenant_name: '',\n        tenant_email: '',\n        tenant_phone: '',\n        lease_start_date: '',\n        lease_end_date: '',\n    });\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        setLoading(true);\n        axios\n            .get(`https://rntmgmt-vishal.onrender.com/api/rooms/${id}`)\n            .then((res) => {\n                setRoom(res.data);\n                setLoading(false);\n            })\n            .catch((err) => {\n                setError('Failed to fetch room details. Please try again.');\n                setLoading(false);\n                console.error('Error fetching room details:', err);\n            });\n    }, [id]);\n\n    const onChange = (e) => {\n        const { name, value, type, checked } = e.target;\n        setRoom({\n            ...room,\n            [name]: type === 'checkbox' ? checked : value,\n        });\n    };\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n\n        if (room.rent <= 0) {\n            setError('Rent must be a positive number.');\n            setLoading(false);\n            return;\n        }\n\n        if (room.lease_start_date && room.lease_end_date && new Date(room.lease_start_date) > new Date(room.lease_end_date)) {\n            setError('Lease start date cannot be later than the lease end date.');\n            setLoading(false);\n            return;\n        }\n\n        axios\n            .put(`https://rntmgmt-vishal.onrender.com/api/rooms/${id}`, room)\n            .then(() => {\n                alert('Room updated successfully!');\n                navigate(`/rooms/${id}`);\n            })\n            .catch((err) => {\n                const errorMessage = err.response?.data || 'Failed to update room. Please try again.';\n                setError(errorMessage);\n            })\n            .finally(() => setLoading(false));\n    };\n\n    return (\n        <Container maxWidth=\"sm\" sx={{ my: 5 }}>\n            <Typography variant=\"h4\" align=\"center\" gutterBottom>\n                Update Room\n            </Typography>\n            <Paper sx={{ padding: 3 }}>\n                <form onSubmit={onSubmit}>\n                    <Grid container spacing={2}>\n                        {/* Room Number */}\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Room Number *\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"room_number\"\n                                value={room.room_number}\n                                onChange={onChange}\n                                required\n                                aria-label=\"Room Number\"\n                            />\n                        </Grid>\n\n                        {/* Floor Number */}\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Floor Number *\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"floor_number\"\n                                type=\"number\"\n                                value={room.floor_number}\n                                onChange={onChange}\n                                required\n                                aria-label=\"Floor Number\"\n                            />\n                        </Grid>\n\n                        {/* Building Name */}\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Building Name *\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"building_name\"\n                                value={room.building_name}\n                                onChange={onChange}\n                                required\n                                aria-label=\"Building Name\"\n                            />\n                        </Grid>\n\n                        {/* Room Type */}\n                        <Grid item xs={12}>\n                            <TextField\n                                select\n                                label=\"Room Type *\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"room_type\"\n                                value={room.room_type}\n                                onChange={onChange}\n                                required\n                                aria-label=\"Room Type\"\n                            >\n                                <MenuItem value=\"Single\">Single</MenuItem>\n                                <MenuItem value=\"Double\">Double</MenuItem>\n                                <MenuItem value=\"Shared\">Shared</MenuItem>\n                            </TextField>\n                        </Grid>\n\n                        {/* Rent */}\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Rent (â‚¹ per month) *\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"rent\"\n                                type=\"number\"\n                                value={room.rent}\n                                onChange={onChange}\n                                required\n                                aria-label=\"Rent\"\n                            />\n                        </Grid>\n\n                        {/* Availability */}\n                        <Grid item xs={12}>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        name=\"availability\"\n                                        checked={room.availability}\n                                        onChange={onChange}\n                                        aria-label=\"Availability\"\n                                    />\n                                }\n                                label=\"Available\"\n                            />\n                        </Grid>\n\n                        {/* Tenant Details */}\n                        <Grid item xs={12}>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Tenant Details (Optional)\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Tenant Name\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"tenant_name\"\n                                value={room.tenant_name}\n                                onChange={onChange}\n                                aria-label=\"Tenant Name\"\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Tenant Email\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"tenant_email\"\n                                type=\"email\"\n                                value={room.tenant_email}\n                                onChange={onChange}\n                                aria-label=\"Tenant Email\"\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Tenant Phone\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"tenant_phone\"\n                                type=\"tel\"\n                                value={room.tenant_phone}\n                                onChange={onChange}\n                                aria-label=\"Tenant Phone\"\n                            />\n                        </Grid>\n\n                        {/* Lease Dates */}\n                        <Grid item xs={12}>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Lease Dates\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Lease Start Date\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"lease_start_date\"\n                                type=\"date\"\n                                value={room.lease_start_date}\n                                onChange={onChange}\n                                InputLabelProps={{ shrink: true }}\n                                aria-label=\"Lease Start Date\"\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                label=\"Lease End Date\"\n                                variant=\"outlined\"\n                                fullWidth\n                                margin=\"normal\"\n                                name=\"lease_end_date\"\n                                type=\"date\"\n                                value={room.lease_end_date}\n                                onChange={onChange}\n                                InputLabelProps={{ shrink: true }}\n                                aria-label=\"Lease End Date\"\n                            />\n                        </Grid>\n\n                        {/* Submit Button */}\n                        <Grid item xs={12}>\n                            <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth disabled={loading}>\n                                {loading ? 'Updating...' : 'Update Room'}\n                            </Button>\n                        </Grid>\n\n                        {/* Cancel Button */}\n                        <Grid item xs={12}>\n                            <Button\n                                variant=\"outlined\"\n                                color=\"secondary\"\n                                fullWidth\n                                sx={{ mt: 2 }}\n                                onClick={() => navigate('/rooms')}\n                                aria-label=\"Cancel\"\n                            >\n                                Cancel\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </form>\n\n                {/* Error Message */}\n                {error && <Typography color=\"error\" variant=\"body2\" sx={{ mt: 2 }}>{error}</Typography>}\n            </Paper>\n        </Container>\n    );\n};\n\nexport default UpdateRoomInfo;\n"],"names":["UpdateRoomInfo","navigate","useNavigate","id","useParams","room","setRoom","useState","room_number","floor_number","building_name","room_type","rent","availability","tenant_name","tenant_email","tenant_phone","lease_start_date","lease_end_date","loading","setLoading","error","setError","useEffect","axios","get","concat","then","res","data","catch","err","console","onChange","e","name","value","type","checked","target","_objectSpread","_jsxs","Container","maxWidth","sx","my","children","_jsx","Typography","variant","align","gutterBottom","Paper","padding","onSubmit","preventDefault","Date","put","alert","_err$response","errorMessage","response","finally","Grid","container","spacing","item","xs","TextField","label","fullWidth","margin","required","select","MenuItem","FormControlLabel","control","Checkbox","InputLabelProps","shrink","Button","color","disabled","mt","onClick"],"sourceRoot":""}