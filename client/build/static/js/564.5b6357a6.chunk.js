"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[564],{4183:(e,n,o)=>{o.r(n),o.d(n,{default:()=>b});var t=o(5043),a=o(1614),c=o(7353),i=o(1637),r=o(7391),l=o(4496),s=o(8903),d=o(2110),m=o(6494),g=o(1906),h=o(7968),u=o(9722),x=o(579);const b=()=>{const[e,n]=(0,t.useState)([]),[o,b]=(0,t.useState)(!0),f="".concat(window.location.origin,"/rooms"),p=(0,t.useCallback)((async()=>{try{const e=await u.A.get("https://rntmgmt-vishal.onrender.com/api/rooms");n(e.data)}catch(e){console.error("Error fetching rooms:",e)}finally{b(!1)}}),[]);(0,t.useEffect)((()=>{p()}),[p]);const y=(0,t.useCallback)(((e,n)=>{const o=document.createElement("canvas"),t=document.getElementById("qr-".concat(e)),a=(new XMLSerializer).serializeToString(t),c=new Image;c.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a),c.onload=()=>{o.width=c.width,o.height=c.height;o.getContext("2d").drawImage(c,0,0);const e=document.createElement("a");e.download="QR-".concat(n.replace(/\s+/g,"-"),".png"),e.href=o.toDataURL("image/png"),e.click()}}),[]);return o?(0,x.jsx)(c.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:(0,x.jsx)(i.A,{})}):(0,x.jsxs)(r.A,{maxWidth:"lg",sx:{py:4},children:[(0,x.jsx)(l.A,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Room QR Codes"}),(0,x.jsx)(l.A,{variant:"body1",gutterBottom:!0,align:"center",sx:{mb:4},children:"Scan QR codes to quickly access room details"}),(0,x.jsx)(s.Ay,{container:!0,spacing:3,children:e.map((e=>(0,x.jsx)(s.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,x.jsx)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",p:2},role:"region","aria-labelledby":"room-".concat(e._id),children:(0,x.jsxs)(m.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,x.jsx)(a.h,{id:"qr-".concat(e._id),value:"".concat(f,"/").concat(e._id),size:200,level:"H",includeMargin:!0,"aria-label":"QR code for Room ".concat(e.room_number)}),(0,x.jsxs)(l.A,{variant:"h6",component:"div",align:"center",sx:{mt:2,mb:1},id:"room-".concat(e._id),children:["Room ",e.room_number]}),(0,x.jsxs)(l.A,{variant:"body2",color:"text.secondary",align:"center","aria-label":"Floor: ".concat(e.floor_number),children:["Floor: ",e.floor_number]}),(0,x.jsxs)(l.A,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:2},"aria-label":"Building: ".concat(e.building_name),children:["Building: ",e.building_name]}),(0,x.jsx)(g.A,{variant:"outlined",startIcon:(0,x.jsx)(h.default,{}),onClick:()=>y(e._id,e.building_name),size:"small","aria-label":"Download QR for Room ".concat(e.room_number),children:"Download QR"})]})})},e._id)))})]})}}}]);
//# sourceMappingURL=564.5b6357a6.chunk.js.map