"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[378],{8378:(e,a,n)=>{n.r(a),n.d(a,{default:()=>y});var t=n(9379),l=n(5043),i=n(3216),r=n(9722),s=n(7391),o=n(4496),d=n(1596),m=n(8903),u=n(5795),h=n(2143),c=n(4605),x=n(3217),_=n(1906),b=n(1637),v=n(579);const A=()=>{const e=(0,i.Zp)(),[a,n]=(0,l.useState)({room_number:"",floor_number:"",building_name:"",room_type:"Single",rent:"",availability:!0,tenant_name:"",tenant_email:"",tenant_phone:"",lease_start_date:"",lease_end_date:""}),[A,y]=(0,l.useState)(!1),[j,p]=(0,l.useState)(""),g=(0,l.useCallback)((e=>{const{name:a,value:l,type:i,checked:r}=e.target;n((e=>(0,t.A)((0,t.A)({},e),{},{[a]:"checkbox"===i?r:l})))}),[]),f=(0,l.useCallback)((t=>(t.preventDefault(),y(!0),p(""),a.rent<=0?(p("Rent must be a positive number."),void y(!1)):a.lease_start_date&&a.lease_end_date&&new Date(a.lease_start_date)>new Date(a.lease_end_date)?(p("Lease start date cannot be later than the lease end date."),void y(!1)):void r.A.post("https://rntmgmt-vishal.onrender.com/api/rooms",a).then((()=>{alert("Room created successfully!"),n({room_number:"",floor_number:"",building_name:"",room_type:"Single",rent:"",availability:!0,tenant_name:"",tenant_email:"",tenant_phone:"",lease_start_date:"",lease_end_date:""}),p(""),e("/rooms")})).catch((e=>{var a;const n=(null===(a=e.response)||void 0===a?void 0:a.data)||"Failed to create room. Please try again.";p(n)})).finally((()=>y(!1))))),[a,e]);return(0,v.jsxs)(s.A,{maxWidth:"sm",sx:{my:5},children:[(0,v.jsx)(o.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Create New Room"}),(0,v.jsxs)(o.A,{variant:"body2",color:"textSecondary",align:"center",gutterBottom:!0,children:["Please fill in the details below to create a new room. Fields marked with ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})," are mandatory."]}),(0,v.jsxs)(d.A,{sx:{padding:3},children:[(0,v.jsxs)("form",{onSubmit:f,children:[(0,v.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsx)(u.A,{label:"Room Number *",variant:"outlined",fullWidth:!0,name:"room_number",value:a.room_number,onChange:g,required:!0})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,sm:6,children:(0,v.jsx)(u.A,{label:"Floor Number *",variant:"outlined",fullWidth:!0,name:"floor_number",type:"number",value:a.floor_number,onChange:g,required:!0})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,sm:6,children:(0,v.jsx)(u.A,{label:"Building Name *",variant:"outlined",fullWidth:!0,name:"building_name",value:a.building_name,onChange:g,required:!0})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsxs)(u.A,{select:!0,label:"Room Type *",variant:"outlined",fullWidth:!0,name:"room_type",value:a.room_type,onChange:g,required:!0,children:[(0,v.jsx)(h.A,{value:"Single",children:"Single"}),(0,v.jsx)(h.A,{value:"Double",children:"Double"}),(0,v.jsx)(h.A,{value:"Shared",children:"Shared"})]})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsx)(u.A,{label:"Rent (\u20b9 per month) *",variant:"outlined",fullWidth:!0,name:"rent",type:"number",value:a.rent,onChange:g,required:!0})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsx)(c.A,{control:(0,v.jsx)(x.A,{name:"availability",checked:a.availability,onChange:g}),label:"Available"})})]}),(0,v.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Tenant Details (Optional)"}),(0,v.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsx)(u.A,{label:"Tenant Name",variant:"outlined",fullWidth:!0,name:"tenant_name",value:a.tenant_name,onChange:g})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsx)(u.A,{label:"Tenant Email",variant:"outlined",fullWidth:!0,name:"tenant_email",type:"email",value:a.tenant_email,onChange:g})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,children:(0,v.jsx)(u.A,{label:"Tenant Phone",variant:"outlined",fullWidth:!0,name:"tenant_phone",type:"tel",value:a.tenant_phone,onChange:g})})]}),(0,v.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Lease Dates"}),(0,v.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,v.jsx)(m.Ay,{item:!0,xs:12,sm:6,children:(0,v.jsx)(u.A,{label:"Lease Start Date",variant:"outlined",fullWidth:!0,name:"lease_start_date",type:"date",value:a.lease_start_date,onChange:g,InputLabelProps:{shrink:!0}})}),(0,v.jsx)(m.Ay,{item:!0,xs:12,sm:6,children:(0,v.jsx)(u.A,{label:"Lease End Date",variant:"outlined",fullWidth:!0,name:"lease_end_date",type:"date",value:a.lease_end_date,onChange:g,InputLabelProps:{shrink:!0}})})]}),(0,v.jsx)(_.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:A,sx:{mt:2},children:A?(0,v.jsx)(b.A,{size:24}):"Create Room"}),(0,v.jsx)(_.A,{variant:"outlined",color:"secondary",fullWidth:!0,sx:{mt:2},onClick:()=>e("/rooms"),children:"Cancel"})]}),j&&(0,v.jsx)(o.A,{color:"error",variant:"body2",sx:{mt:2},children:j})]})]})},y=l.memo(A)}}]);
//# sourceMappingURL=378.bf102d4b.chunk.js.map